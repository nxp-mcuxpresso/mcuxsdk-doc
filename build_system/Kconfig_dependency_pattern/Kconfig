menu "Dependency condition"

	config MCUX_HW_CORE_CM4F
		bool "core cm4f"

	config MCUX_MCUX_HW_DEVICE_MK64F12
		bool "Device MK64F12"
    
    config MCUX_MCUX_HW_DEVICE_LPC54005 
        bool "Device LPC54005"
    
    config MCUX_MCUX_HW_DEVICE_LPC54016 
        bool "Device LPC54016"
    
    config MCUX_MCUX_HW_DEVICE_LPC54018 
        bool "Device LPC54018"
    
    config MCUX_MCUX_HW_DEVICE_LPC54018M 
        bool "Device LPC54018M"
    
    config MCUX_MCUX_HW_DEVICE_LPC54628
        bool "Device LPC54628"

    config MCUX_COMPILER_IAR
        bool "Compiler IAR"

    config MCUX_HAS_COMPONENT_component3
        bool
        default y

    config MCUX_HAS_COMPONENT_component4
        bool

endmenu


menu "Dependency Pattern"

    config MCUX_COMPONENT_componentA
        bool "Component A, pattern 1"
        select MCUX_COMPONENT_component1 
        select MCUX_COMPONENT_component2
        select MCUX_COMPONENT_component3 if MCUX_HAS_COMPONENT_component3
        select MCUX_COMPONENT_component4 if MCUX_HAS_COMPONENT_component4

    config MCUX_COMPONENT_componentB
        bool "Component B, pattern 2"
        select MCUX_COMPONENT_component1 
        select MCUX_COMPONENT_component2
        depends on MCUX_HW_CORE_CM4F || MCUX_HW_CORE_CM4
        depends on MCUX_HW_DEVICE_MK64F12 || MCUX_HW_DEVICE_MK63F12

        if MCUX_COMPONENT_componentB
            choice
                prompt "Component B anyOf 1"
                default MCUX_DEPENDENCY_COMPONENT_componentB_DEPEND_COMPONENT_component3
                config MCUX_DEPENDENCY_COMPONENT_componentB_DEPEND_COMPONENT_component3
                    bool "Select component3"
                    select MCUX_COMPONENT_component3

                config MCUX_DEPENDENCY_COMPONENT_componentB_DEPEND_COMPONENT_component4
                    bool "Select component4"
                    select MCUX_COMPONENT_component4
            endchoice

            choice
                prompt "Component B anyOf 2"
                default MCUX_DEPENDENCY_COMPONENT_componentB_DEPEND_COMPONENT_component5
                config MCUX_DEPENDENCY_COMPONENT_componentB_DEPEND_COMPONENT_component5
                    bool "Select component5"
                    select MCUX_COMPONENT_component5

                config MCUX_DEPENDENCY_COMPONENT_componentB_DEPEND_COMPONENT_component6
                    bool "Select component6"
                    select MCUX_COMPONENT_component6
            endchoice            
        endif
    
    config MCUX_COMPONENT_componentC
        bool "Component C, pattern 3"
        select MCUX_COMPONENT_component1 
        select MCUX_COMPONENT_component2
        depends on MCUX_COMPILER_IAR || MCUX_COMPILER_MDK
        depends on MCUX_HW_DEVICE_MK64F12 || MCUX_HW_DEVICE_MK63F12 || MCUX_HW_DEVICE_LPC54005 || MCUX_HW_DEVICE_LPC54016 || MCUX_HW_DEVICE_LPC54018 || MCUX_HW_DEVICE_LPC54018M || MCUX_HW_DEVICE_LPC54628

        if MCUX_COMPONENT_componentC
            choice
                prompt "Component C anyOf"
                default MCUX_DEPENDENCY_COMPONENT_componentC_DEPEND_ALLOF_1
                config MCUX_DEPENDENCY_COMPONENT_componentC_DEPEND_ALLOF_1
                    bool "Select component3 and component 4 in device MK64F12, MK63F12"
                    select MCUX_COMPONENT_component3
                    select MCUX_COMPONENT_component4
                    depends on MCUX_HW_DEVICE_MK64F12 || MCUX_HW_DEVICE_MK63F12

                config MCUX_DEPENDENCY_COMPONENT_componentC_DEPEND_ALLOF_2
                    bool "Select component5 and component4"
                    select MCUX_COMPONENT_component5
                    select MCUX_COMPONENT_component6
                    depends on MCUX_HW_DEVICE_LPC54005 || MCUX_HW_DEVICE_LPC54016 || MCUX_HW_DEVICE_LPC54018 || MCUX_HW_DEVICE_LPC54018M || MCUX_HW_DEVICE_LPC54628
            endchoice           
        endif

    config MCUX_COMPONENT_componentD
        bool "Component D, pattern 4"
        select MCUX_COMPONENT_component1 
        select MCUX_COMPONENT_component2
        depends on !MCUX_COMPONENT_component8 # support not
        depends on MCUX_COMPILER_IAR || MCUX_COMPILER_MDK

        if MCUX_COMPONENT_componentD
            choice
                prompt "Component C Dependencies"

                config MCUX_DEPENDENCY_COMPONENT_componentD_DEPEND_ANYOF_component3_component4
                    bool "Select component3 or component4"
                    if MCUX_DEPENDENCY_COMPONENT_componentD_DEPEND_ANYOF_component3_component4
                        choice
                            prompt "Select component3 or component4"
                            default MCUX_DEPENDENCY_COMPONENT_componentD_DEPEND_COMPONENT_component3
                            config MCUX_DEPENDENCY_COMPONENT_componentD_DEPEND_COMPONENT_component3
                                bool "Select component3"
                                select MCUX_COMPONENT_component3
                            config MCUX_DEPENDENCY_COMPONENT_componentD_DEPEND_COMPONENT_component4
                                bool "Select component4"
                                select MCUX_COMPONENT_component4
                        endchoice  
                    endif              

                config MCUX_DEPENDENCY_COMPONENT_componentD_DEPEND_ANYOF_component5_component6
                    bool "Select component5 or component6"
                    if MCUX_DEPENDENCY_COMPONENT_componentD_DEPEND_ANYOF_component5_component6
                        choice
                            prompt "Select component5 or component6"
                            default MCUX_DEPENDENCY_COMPONENT_componentD_DEPEND_COMPONENT_component5
                            config MCUX_DEPENDENCY_COMPONENT_componentD_DEPEND_COMPONENT_component5
                                bool "Select component5"
                                select MCUX_COMPONENT_component5
                            config MCUX_DEPENDENCY_COMPONENT_componentD_DEPEND_COMPONENT_component6
                                bool "Select component6"
                                select MCUX_COMPONENT_component6
                        endchoice        
                    endif            

                config MCUX_DEPENDENCY_COMPONENT_componentD_DEPEND_COMPONENT_component7
                    bool "Select component7"
                    select MCUX_COMPONENT_component7

            endchoice           
        endif

    config MCUX_COMPONENT_componentE
        bool "Component E, pattern 5"
        if MCUX_COMPONENT_componentE
            choice
                prompt "Component E anyOf"
                default MCUX_DEPENDENCY_COMPONENT_componentE_DEPEND_ALLOF_component1_component2
                config MCUX_DEPENDENCY_COMPONENT_componentE_DEPEND_ALLOF_component1_component2
                    bool "Select component1 and component2"
                    select MCUX_COMPONENT_component1
                    select MCUX_COMPONENT_component2
                    depends on MCUX_HW_CORE_CM4 || MCUX_HW_CORE_CM4F
                    depends on MCUX_HW_DEVICE_MK64F12 || MCUX_HW_DEVICE_MK63F12

                config MCUX_DEPENDENCY_COMPONENT_componentE_DEPEND_ALLOF_component3_component4
                    bool "Select component3 and component4"
                    select MCUX_COMPONENT_component3
                    select MCUX_COMPONENT_component4
            endchoice           
        endif

    config MCUX_COMPONENT_componentF
        bool "Component F, pattern 6"
        select MCUX_COMPONENT_component1
        depends on !MCUX_HW_DEVICE_MK64F12 && !MCUX_HW_DEVICE_MK63F12  

    config MCUX_COMPONENT_componentG
        bool "Component G, pattern 7"
        if MCUX_COMPONENT_componentG
            choice
                prompt "component F dependency"
                default MCUX_DEPENDENCY_COMPONENT_componentG_DEPEND_ALLOF_component9
                config MCUX_DEPENDENCY_COMPONENT_componentG_DEPEND_ALLOF_component9
                    bool "Select component 9 in devce MK64F12 and MK63F12"
                    select MCUX_COMPONENT_component9
                    depends on MCUX_HW_DEVICE_MK64F12 || MCUX_HW_DEVICE_MK63F12

                config MCUX_DEPENDENCY_COMPONENT_componentG_DEPNED_ALLOF_component10
                    bool "Select component 10 in devce other than MK64F12 and MK63F12"
                    select MCUX_COMPONENT_component10
                    depends on !MCUX_HW_DEVICE_MK64F12 && !MCUX_HW_DEVICE_MK63F12
            endchoice
        endif

    # config MCUX_COMPONENT_componentG
    #     bool "Component G, pattern 7"
    #     select MCUX_COMPONENT_component1
    #     if MCUX_COMPONENT_componentG
    #         choice
    #             prompt "component G dependency"
    #             default MCUX_DEPENDENCY_COMPONENT_componentG_DEPEND_ALLOF_component2
    #             config MCUX_DEPENDENCY_COMPONENT_componentG_DEPEND_ALLOF_component2
    #                 bool "Select component 9 in devce MK64F12 and MK63F12"
    #                 select MCUX_COMPONENT_component2
    #                 depends on MCUX_HW_DEVICE_MK64F12 || MCUX_HW_DEVICE_MK63F12

    #             config MCUX_DEPENDENCY_COMPONENT_componentG_DEPNED_ALLOF_
    #                 bool "Select component 10 in devce other than MK64F12 and MK63F12"
    #                 depends on MCUX_HW_DEVICE_LPC54005 || MCUX_HW_DEVICE_LPC54016 || MCUX_HW_DEVICE_LPC54018 || MCUX_HW_DEVICE_LPC54018M || MCUX_HW_DEVICE_LPC54628
    #         endchoice
    #     endif
    
    config MCUX_COMPONENT_component1
        bool "Component1"
    config MCUX_COMPONENT_component2
        bool "Component2"
    config MCUX_COMPONENT_component3
        bool "Component3"
    config MCUX_COMPONENT_component4
        bool "Component4"
    config MCUX_COMPONENT_component5
        bool "Component5"
    config MCUX_COMPONENT_component6
        bool "Component6"
    config MCUX_COMPONENT_component7
        bool "Component7"
    config MCUX_COMPONENT_component8
        bool "Component8"
    config MCUX_COMPONENT_component9
        bool "Component9"   
    config MCUX_COMPONENT_component10
        bool "Component10"                                
        # depends on MCUX_HW_CORE_CM33                                                            
endmenu
